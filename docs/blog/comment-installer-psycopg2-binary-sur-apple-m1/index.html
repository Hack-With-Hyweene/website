<!DOCTYPE html>
<html lang="fr-FR" prefix="og: http://ogp.me/ns#">
 <head>
  <!-- Favicon -->
  <link href="https://www.hack-with-hyweene.com/static/img/cl-logo.svg" rel="icon">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=5.0" name="viewport">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="telephone=no" name="format-detection">
  <meta content="Bruno 'Hyweene' Giarrizzo" name="author">
  <meta content="Hack with Hyweene" name="webmaster">
  <meta content="fr" name="language">
  <meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name="robots">
  <meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name="googlebot">
  <meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name="bingbot">
  <meta content="1 days" name="revisit-after">
  <meta content="never" name="expires">
  <meta content="General" name="rating">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="https://www.hack-with-hyweene.com" name="identifier-URL">
  <link href="https://www.hack-with-hyweene.com/blog/feed.xml" rel="alternate" title="Hack with Hyweene - RSS du Blog" type="application/rss+xml">
  <link href="https://www.hack-with-hyweene.com/links/feed.xml" rel="alternate" title="Hack with Hyweene - RSS des Liens" type="application/rss+xml">
  <title>Comment installer psycopg2-binary sur Apple M1 - Blog - Hack with Hyweene</title>
  <meta content="Comment installer psycopg2-binary sur Apple M1 - Blog - Hack with Hyweene" name="title">
  <link href="https://www.hack-with-hyweene.com/blog/comment-installer-psycopg2-binary-sur-apple-m1/" rel="canonical">
  <meta content="J'ai rencontr&eacute; quelques difficult&eacute;s en travaillant avec du code Python acc&eacute;dant &agrave; des bases de donn&eacute;es PostgreSQL. Voici comment j'ai r&eacute;solu le probl&egrave;me." name="description">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-S4T0SNK38Q">
  </script>
  <script>window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-S4T0SNK38Q');</script>
  <meta content="Bruno, Giarrizzo, Hyweene, Bruno Giarrizzo, Developpeur, Developer, DevOps, apple, m1, postgres, python3.10, psycopg2, psycopg2-binary, installation" name="keywords">
  <style>body { margin: 0 auto; max-width: 700px; line-height: 1.8; font-family: 'Latin Modern', Georgia, Cambria, 'Times New Roman', Times, serif; font-size: 1rem; color: #444; background-color: #fdf6e3; padding: 20px 40px; text-rendering: optimizeLegibility; }
    h1 { line-height: 1.2; text-align: center; }
    h2, h3, h4 { line-height: 1.2; border-bottom: 1px solid; }
    p { hyphens: auto; text-align: justify; }
    pre, blockquote, .code { background: #f5ead6; font-size: 0.8em; padding: 1em; overflow: scroll; border-radius: 0.5em; }
    ul, ol { list-style-type: circle; }
    a { color: #169; text-decoration: none; padding: 0.5em 0; }
    a:hover { text-decoration: underline; }
    
    nav { display: flex; align-items: center; justify-content: space-between; flex-direction: row; text-align: center; font-variant: small-caps; font-weight: bold; border-bottom: 1px solid; border-top: 1px solid; margin-bottom: 1.5em; }
    
    main { text-align: justify; }
    main hr { margin-top: 1.5em; margin-bottom: 1.5em; }

    .cover { display: block; width: 100%; border-radius: 0.5em; }

    figure { width: 65%; display: block; margin-left: auto; margin-right: auto;}
    figure img { width: 100%; box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; border-radius: 0.5em; }
    figure figcaption { text-align: center; font-style: italic; }

    footer { margin-top: 1.5em; }

    code { background: #f8cca0; padding: 0.25em;  margin-right: 0.5em; border-radius: 0.5em; }</style>
 </head>
 <body>
  <header>
   <h1><a href="/">Hack with Hyweene</a></h1>
  </header>
  <nav><a href="/blog/">Blog</a>&bull; <a href="/liens/">Liens</a>&bull; <a href="/apprendre/">Apprendre</a>&bull; <a href="/cv/">CV</a></nav>
  <main>
   <img alt="Comment installer psycopg2-binary sur Apple M1" class="cover" src="/media/images/blog/covers/2021-10-17.png">
   <h1>Comment installer psycopg2-binary sur Apple M1</h1>
   <p>Publi&eacute; le 17 Oct 2021</p>
   <div>#apple #m1 #postgres #python3.10 #psycopg2 #psycopg2-binary #installation</div>
   <hr>
   <p>Le mois dernier, je me suis offert un Apple M1, un tr&egrave;s bon ordinateur, puissant et avec une autonomie impressionnante.</p>
   <p>Mon travail avec est assez simple, je code des API Python, quelques applications frontales simples avec TypeScript/React, j'essaie un peu de Go, j'apprends Swift et j'administre quelques clusters Kubernetes. Rien de trop sophistiqu&eacute;.</p>
   <p>J'essaie de travailler avec les derni&egrave;res versions des logiciels que j'utilise, et dans ce cas, Python 3.10.</p>
   <p>Je l'ai install&eacute; avec brew, assez facilement :</p>
   <pre><code class="language-bash">brew install python@3.10</code></pre>
   <p>J'ai eu des probl&egrave;mes avec psycopg2-binary lors de l'installation des d&eacute;pendances d'un des projets sur lesquels je travaille. Le message d'erreur que j'obtenais &eacute;tait celui-ci :</p>
   <pre><code class="language-bash">Error: pg_config executable not found.

pg_config is required to build psycopg2 from source.  Please add the directory
containing pg_config to the $PATH or specify the full executable path with the
option:

    python setup.py build_ext --pg-config /path/to/pg_config build ...

or with the pg_config option in 'setup.cfg'.</code></pre>
   <p>Il semble qu'il manque un fichier de configuration. J'ai essay&eacute; de r&eacute;soudre ce probl&egrave;me en installant le serveur PostgreSQL pour obtenir ce fichier manquant :</p>
   <pre><code class="language-bash">brew install postgresql@12</code></pre>
   <p>&Agrave; ce stade, brew me dit de configurer le chemin vers PG dans mon PATH, de cette fa&ccedil;on (en utilisant ZSH, il me dit &eacute;videmment de l'&eacute;crire dans .zshrc) :</p>
   <pre><code class="language-bash">echo 'export PATH="/opt/homebrew/opt/postgresql@12/bin:$PATH"' &gt; ~/.zshrc</code></pre>
   <p>Maintenant, tout est pr&ecirc;t, et je peux l'installer comme je le souhaite :</p>
   <pre><code class="language-bash">pip(3) install psycopg2-binary</code></pre>
   <p>Ou dans le r&eacute;pertoire de mon projet :</p>
   <pre><code class="language-bash">pipenv install psycopg2-binary</code></pre>
   <script src="/static/js/prism.js">
   </script>
  </main>
  <footer>
   <nav><a href="/a-propos/">A Propos</a>&bull; <a href="/mentions-legales/">Mentions L&eacute;gales</a>&bull; <a href="https://www.hack-with-hyweene.com">https://www.hack-with-hyweene.com</a></nav>
  </footer>
 </body>
</html>
